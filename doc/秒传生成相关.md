---
slug: "/generate-bdcode"
title: "秒传链接生成教程"
---

秒传脚本自带生成 秒传链接 的功能, 此文档用于帮助用户解决相关问题.

- 本文档不定时更新, 最后更新时间: **21.11.25**

更新历史:

22.5.18: 更新关于 **秒传未生效** 的相关信息

21.11.25: 去除无效信息, 更新一键双层压缩工具v1.0.1, 大幅提升压缩速度

21.7.31: 网盘资源更新: BaiduPCS-Go v3.8.2

21.7.10: (**重要**) 更新一种 **保证秒传生效** (可修复 秒传未生效/md5获取失败) 的文件上传方法

* 详见章节 [PCS-Go 客户端使用方法] -> [上传]

21.6.18: 脚本 **修复下载** 功能已失效, 分享者需要通过 "双层压缩(详见下文)" 防止文件和谐

21.2.11: (重要), 更新防和谐的文件压缩方法, 原压缩方法 "固实压缩+加密文件名" 已失效, 目前有效的防和谐方法请参考下文的 "双层压缩"

---

## 常见问题及解决方法

### 接口限制访问(#403)

一般是账号问题, 可能是生成秒传过于频繁等各种原因导致的, 一般等待 24h 即可解除, 也可尝试 更换账号 或 使用本地生成工具 [蓝奏云](https://wwe.lanzoui.com/b01u0yqvi) 密码:2233

---

### 服务器错误(#502/#503)

一般是百度服务器暂时问题, 可使用本地生成工具 [蓝奏云](https://wwe.lanzoui.com/b01u0yqvi) 密码:2233 或 1-24 小时之后再试, 若依旧出现请前往 [脚本页](https://greasyfork.org/zh-CN/scripts/424574) 反馈

---

### 服务器错误(#500)

使用的账号被限制(黑号), 无法生成 3.9-4G 以上的文件

可使用本地生成工具 [蓝奏云](https://wwe.lanzoui.com/b01u0yqvi) 密码:2233 生成秒传, 或更换账号/开通 svip 即可解决

---

### md5 获取失败(#996)

1. (**重要**) 脚本的 1.8.1 版本已修复绝大部分  "文件不存在(秒传无效)" 和 "md5 获取失败" 问题, 更新到最新版本即可有效避免上述问题, 更新地址: [新脚本页](https://greasyfork.org/zh-CN/scripts/424574)
2. IDM 拦截下载导致 "md5 获取失败", 解决方法: [图例 1](https://pic.rmb.bdstatic.com/bjh/df3eb220a36cd4d4de8995b6040511fd.png) , [图例 2](https://pic.rmb.bdstatic.com/bjh/d7959c6b10a1207fcbf53ee30666e929.png)
3. (推荐) 通过 本地生成工具 [蓝奏云](https://wwe.lanzoui.com/b01u0yqvi) 密码:2233 生成秒传, 并手动转存测试秒传有效性 (注意将转存成功的文件覆盖到原文件以防止删除转存文件后秒传失效)

---

### 秒传未生效(#404/#31190)

1. (重要) 脚本的 1.8.1 版本已修复绝大部分  "文件不存在(秒传无效)" 和 "md5 获取失败" 问题, 更新到最新版本即可有效避免上述问题, 更新地址: [新脚本页](https://greasyfork.org/zh-CN/scripts/424574)
2. 秒传可能延迟生效, 可等待一段时间(1-24 小时左右)再重试, 若不想等待或等待后依旧无效, 可尝试重传(4.)。
3. 删除首次秒传转存的网盘文件可能导致秒传无效, 此时恢复删除的文件即可使秒传重新生效, 强烈建议使用脚本提供的 **测试秒传** 功能, 即可预防此情况.
4. 使用 "PCS-Go 客户端" (使用方法见对应章节) 重传文件 (也可用 "度盘客户端" 或 "度盘网页端" 重传, 但可能依旧秒传无效)
5. (重要) 标准码格式的秒传链接可以简化, 例如: 
    ```plain
    D5AABEFC3290F7A3C09912228B136D0C#821A9F0D27FCD19C80474D2140ED2D85#6467659#test.exe
    ```
    可以简化为 (删除第二段md5, 可以正常转存):
    ```plain
    D5AABEFC3290F7A3C09912228B136D0C#6467659#test.exe
    ```
    但不能简化为 (删除第一段md5, 会导致上述报错, 无法转存):
    ```plain
    821A9F0D27FCD19C80474D2140ED2D85#6467659#test.exe
    ```
---

### 文件和谐

生成秒传时提示如下弹窗, 或者下载文件时提示 包含违规信息, 即文件被和谐, 文件被和谐后没有任何补救方法 (若为压缩包文件, 可尝试使用 在线解压 功能获取部分可下载的文件)

文件被和谐 1:

![图例1](https://pic.rmb.bdstatic.com/bjh/ca690a39f6668dcaa38b0a01ddf78e20.png)
![图例2](https://pic.rmb.bdstatic.com/bjh/95b6be9e217d7270fb34076cc0fa6695.png)

文件被和谐 2:

![图例3](https://pic.rmb.bdstatic.com/bjh/3c182fdbccab1eec22ebc9ee91a40573.png)

#### 预防方法

1. 使用 **双层压缩**, 可规避在线解压导致的和谐, 详见 文件压缩方法 章节
2. 不使用 "分享链接" 分享文件, 可一定程度上规避举报导致的和谐(不开分享链接就没有文件举报按钮), 但不排除其他人使用秒传转存文件后再开分享链接.

关于文件和谐的详细说明文档: [防和谐相关](/rapid-upload-userscript-doc/file-protect)

---

## 文件压缩方法

原压缩方法: 固实压缩+加密文件名 已无法防止在线解压, 也无法再防和谐, 目前有效方法请参考下方的 "**双层压缩**".

### 双层压缩

使用任意压缩格式将原压缩包再压缩一次, 经过测试验证可效防和谐, 双层压缩的压缩包在线解压后只有内层压缩包会被和谐, 而外层压缩包**不会被和谐**(验证过程见下文).

PS: 提供一个一键批量双层压缩的工具 (使用秒传转存):

```plain
f2c3e6a533c9fc4e78293d082bbd5274#9804e9c75762a21f971ad8e9bc5ed576#15352276#auto_double_zip 批量双层压缩工具 v1.0.1.zip
```

\*工具源码: [项目主页](https://github.com/mengzonefire/auto_double_zip)

双压防和谐的对照验证过程:

1 组: 直接上传已和谐的视频文件 -> 文件和谐

2 组: 将视频文件压缩为 zip(无加密) -> 上传 -> 分享 -> 在线解压 -> 压缩包被和谐

3 组: 将 2 组的 zip 文件再压缩一次(无加密 zip) -> 上传 -> 分享 -> 在线解压 -> 解压出来的内层 zip 被和谐, 但原压缩包未和谐.

\*测试时间 2021.6.7, 使用度盘 PC 客户端测试

综上可知双层压缩(任意压缩格式,甚至无加密的 zip)可有效防止在线解压导致的文件和谐, 但手动举报导致的和谐应该还是无解.

---

## PCS-Go 客户端

### 下载

前往 [蓝奏云](https://wwe.lanzoui.com/b01ufs7eb) 密码: 2233 下载 win 平台的可执行文件, 单文件免安装

\*若需要 更新说明/更新版本/其他平台, 请前往 [项目主页](https://github.com/qjfoidnh/BaiduPCS-Go/releases)

### 注意事项

- 该客户端无交互界面(GUI), 仅有命令行界面(CMD), 存在一定使用门槛.
- 该客户端的命令行界面中 Ctrl+C 为退出, 鼠标右键为复制/粘贴.
- 该客户端支持无会员上传大于 4G 的文件.

### 登录

1. 账号密码登录: 输入 login 命令, 回车, 然后输入对应信息即可(输入密码时是不显示的, 直接回车即可)
2. bduss 登录(推荐): 如何获取 bduss 请自行百度, 输入命令 login -bduss=, 然后复制你的 bduss, 右键粘贴 (粘贴时界面可能会刷新不出来, 此时按一下空格即可), 然后回车即可登录

### 上传

- 输入命令 upload 或 u 即可上传文件/文件夹,

1. (可选)添加-p 1 参数(单线程上传), 可避免一些秒传不生效的情况, 但会导致上传速度变慢
2. 若上传过程中提示 400 网络错误, 请添加-retry 100 参数, 报错后可自动继续上传.
3. 添加--nosplit 参数, 可保证秒传生效, 但只能上传小于 1.9G 文件

- 命令格式: u [参数] "本地路径" "网盘路径" (注意空格分隔)

\*拖拽文件到窗口, 可直接粘贴本地路径

- 命令示例:

```plain
u -p 1 -retry 100 "D:\download" "/"
```

或:

```plain
u --nosplit -retry 100 "D:\download" "/"
```

(保证秒传生效, 单文件最大 1.9G, 超过则报错"413 Request Entity Too Large", 以下示例同理) #将 download 文件夹上传到网盘根目录

```plain
u -p 1 -retry 100 "D:\download\test.7z" "/测试"
```

#将 test.7z 文件上传到网盘的"测试"文件夹内

```plain
u -p 1 -retry 100 "D:\download" "D:\download\test.7z" "/测试/测试 2"
```

#将 "download 文件夹" 和 "test.7z 文件" 上传到网盘的 "/测试/测试 2" 路径下

(上传过程中界面可能会卡住, 按一下空格即可刷新界面)

- 上传完成后, 使用秒传脚本或本地生成工具(推荐)生成秒传即可, 通过此方法上传的文件一般秒传立即生效, 若无效可等待几分钟再重试
